
> docter_ai_agent@0.1.0 dev
> next dev --turbopack

   ▲ Next.js 15.3.4 (Turbopack)
   - Local:        http://localhost:3000
   - Network:      http://10.0.4.211:3000
   - Environments: .env.local

 ✓ Starting...
 ○ Compiling middleware ...
 ✓ Compiled middleware in 3.8s
 ✓ Ready in 7.7s
 ○ Compiling /api/suggest-docters ...
 POST /api/suggest-docters 200 in 22584ms
 ✓ Compiled /api/suggest-docters in 22.7s
Calling Murf AI API with voice: en-UK-peter, text length: 23 chars
Murf API request data: {"text":"Test speech from server","voiceId":"en-UK-peter","format":"mp3","speed":1,"pitch":0,"sampleRate":44100}
 POST /api/tts 200 in 19897ms
Murf API response status: 200
Murf AI API returned audio URL: https://murf.ai/user-upload/one-day-temp/06ddac77-...
Successfully fetched audio data from Murf AI, size: 37660 bytes
 ○ Compiling /api/session-chat ...
 ✓ Compiled /api/session-chat in 9.3s
 POST /api/session-chat 200 in 10966ms
 ○ Compiling /dashboard/medical-agent/[sesstionId] ...
 ✓ Compiled /dashboard/medical-agent/[sesstionId] in 27.6s
 POST /api/session-chat 200 in 1593ms
 GET /dashboard/medical-agent/d77e4755-8215-496d-91af-172826c87867 200 in 30483ms
 GET /dashboard/medical-agent/e0439335-2718-42e7-900c-e9b61825aa62 200 in 1614ms
 GET /api/session-chat?sessionId=e0439335-2718-42e7-900c-e9b61825aa62 200 in 436ms
 GET /api/session-chat?sessionId=e0439335-2718-42e7-900c-e9b61825aa62 200 in 463ms
Using voice mapping for doctorId 1: en-US-ken
Calling Murf AI API with voice: en-US-ken, text length: 94 chars
Murf API request data: {"text":"Hello, I'm your AI medical assistant. Can you tell me Your Name, age and what is your problem?","voiceId":"en-US-ken","format":"mp3","speed":1,"pitch":0,"sampleRate":44100}
Murf API response status: 200
Murf AI API returned audio URL: https://murf.ai/user-upload/one-day-temp/76d71ccc-...
Successfully fetched audio data from Murf AI, size: 143613 bytes
 POST /api/tts 200 in 3670ms
 ○ Compiling /api/transcribe ...
 ✓ Compiled /api/transcribe in 2s
Transcription API called
Uploading audio to AssemblyAI...
Audio uploaded successfully, requesting transcription...
Transcription requested, polling for results...
Polling attempt 1: Status = processing
Polling attempt 2: Status = completed
Transcription completed: My stomach hurts.
 POST /api/transcribe 200 in 9053ms
 ○ Compiling /api/chat ...
 ✓ Compiled /api/chat in 4.2s
 POST /api/chat 200 in 5967ms
Using voice mapping for doctorId 1: en-US-ken
Calling Murf AI API with voice: en-US-ken, text length: 131 chars
Murf API request data: {"text":"I'm sorry to hear that. Could you describe the pain a bit more? For instance, is it sharp or dull, and where exactly is it located?","voiceId":"en-US-ken","format":"mp3","speed":1,"pitch":0,"sampleRate":44100}
Murf API response status: 200
Murf AI API returned audio URL: https://murf.ai/user-upload/one-day-temp/2cefba96-...
Successfully fetched audio data from Murf AI, size: 213203 bytes
 POST /api/tts 200 in 4184ms
Transcription API called
Uploading audio to AssemblyAI...
Audio uploaded successfully, requesting transcription...
Transcription requested, polling for results...
Polling attempt 1: Status = processing
Polling attempt 2: Status = completed
Transcription completed: Very sharp pain in the bottom of my belly.
 POST /api/transcribe 200 in 5100ms
 POST /api/chat 200 in 4310ms
Using voice mapping for doctorId 1: en-US-ken
Calling Murf AI API with voice: en-US-ken, text length: 120 chars
Murf API request data: {"text":"Thank you for sharing that. Do you have any other symptoms, like nausea, vomiting, fever, or changes in bowel movements?","voiceId":"en-US-ken","format":"mp3","speed":1,"pitch":0,"sampleRate":44100}
Murf API response status: 200
Murf AI API returned audio URL: https://murf.ai/user-upload/one-day-temp/17e8ae43-...
Successfully fetched audio data from Murf AI, size: 183737 bytes
 POST /api/tts 200 in 3586ms
Transcription API called
Uploading audio to AssemblyAI...
Audio uploaded successfully, requesting transcription...
Transcription requested, polling for results...
Polling attempt 1: Status = completed
Transcription completed: I do have a bit of nausea and I vomit every two hours.
 POST /api/transcribe 200 in 3348ms
 POST /api/chat 200 in 1829ms
Using voice mapping for doctorId 1: en-US-ken
Calling Murf AI API with voice: en-US-ken, text length: 210 chars
Murf API request data: {"text":"I understand that must be uncomfortable. Given your symptoms, it would be wise to seek medical attention to rule out any serious conditions. Are you able to contact a healthcare provider or visit a clinic soon?","voiceId":"en-US-ken","format":"mp3","speed":1,"pitch":0,"sampleRate":44100}
Murf API response status: 200
Murf AI API returned audio URL: https://murf.ai/user-upload/one-day-temp/f102d3b0-...
Successfully fetched audio data from Murf AI, size: 304109 bytes
 POST /api/tts 200 in 4197ms
Transcription API called
Uploading audio to AssemblyAI...
Audio uploaded successfully, requesting transcription...
Transcription requested, polling for results...
Polling attempt 1: Status = completed
Transcription completed: Not really. Can you give me a diagnosis, please?
 POST /api/transcribe 200 in 3990ms
 POST /api/chat 200 in 2471ms
Using voice mapping for doctorId 1: en-US-ken
Calling Murf AI API with voice: en-US-ken, text length: 391 chars
Murf API request data: {"text":"I'm sorry to hear that you're unable to see someone immediately. While I can't provide a diagnosis, your symptoms could be related to various issues such as a stomach infection, food poisoning, or something more serious like appendicitis. It's important to stay hydrated and try to seek medical care as soon as possible. Can you access any online or telehealth services for immediate advice?","voiceId":"en-US-ken","format":"mp3","speed":1,"pitch":0,"sampleRate":44100}
Murf API response status: 200
Murf AI API returned audio URL: https://murf.ai/user-upload/one-day-temp/55118f9e-...
Successfully fetched audio data from Murf AI, size: 568677 bytes
 POST /api/tts 200 in 4603ms
 GET /dashboard/medical-agent/e0439335-2718-42e7-900c-e9b61825aa62 200 in 1628ms
 ○ Compiling /_not-found/page ...
 POST /dashboard/medical-agent/e0439335-2718-42e7-900c-e9b61825aa62 200 in 680ms
 GET /api/session-chat?sessionId=e0439335-2718-42e7-900c-e9b61825aa62 200 in 1016ms
 POST /dashboard/medical-agent/e0439335-2718-42e7-900c-e9b61825aa62 200 in 577ms
 GET /api/session-chat?sessionId=e0439335-2718-42e7-900c-e9b61825aa62 200 in 803ms
 GET /favicon.ico?favicon.45db1c09.ico 200 in 8524ms
 GET /favicon.ico 200 in 7830ms
 GET /favicon.ico?favicon.45db1c09.ico 200 in 398ms
 POST /api/users 200 in 8462ms
 POST /api/users 200 in 8560ms
 ✓ Compiled /_not-found/page in 11.8s
 GET /.well-known/appspecific/com.chrome.devtools.json 404 in 11970ms
Using voice mapping for doctorId 1: en-US-ken
Calling Murf AI API with voice: en-US-ken, text length: 94 chars
Murf API request data: {"text":"Hello, I'm your AI medical assistant. Can you tell me Your Name, age and what is your problem?","voiceId":"en-US-ken","format":"mp3","speed":1,"pitch":0,"sampleRate":44100}
Murf API response status: 200
Murf AI API returned audio URL: https://murf.ai/user-upload/one-day-temp/646a7a4c-...
Successfully fetched audio data from Murf AI, size: 156151 bytes
 POST /api/tts 200 in 3647ms
 GET /favicon.ico?favicon.45db1c09.ico 200 in 361ms
Transcription API called
Uploading audio to AssemblyAI...
Audio uploaded successfully, requesting transcription...
Transcription requested, polling for results...
Polling attempt 1: Status = completed
Transcription completed: I want you to act as a Moroccan physicist. I can't understand English. Could you please talk to me from now with Moroccan Arabic?
 POST /api/transcribe 200 in 3906ms
 POST /api/chat 200 in 2145ms
Using voice mapping for doctorId 1: en-US-ken
Calling Murf AI API with voice: en-US-ken, text length: 89 chars
Murf API request data: {"text":"Hello! I'm here to help with medical questions. What symptoms are you experiencing today?","voiceId":"en-US-ken","format":"mp3","speed":1,"pitch":0,"sampleRate":44100}
Error with Murf API: timeout of 15000ms exceeded
Error details: No response data
Full error details: {"message":"timeout of 15000ms exceeded"}
 POST /api/tts 200 in 15306ms
 GET /dashboard/medical-agent/e0439335-2718-42e7-900c-e9b61825aa62 200 in 772ms
 GET /.well-known/appspecific/com.chrome.devtools.json 404 in 726ms
 POST /dashboard/medical-agent/e0439335-2718-42e7-900c-e9b61825aa62 200 in 1039ms
 GET /favicon.ico?favicon.45db1c09.ico 200 in 1028ms
 GET /favicon.ico 200 in 726ms
 POST /api/users 200 in 1775ms
 POST /api/users 200 in 1651ms
 GET /favicon.ico?favicon.45db1c09.ico 200 in 512ms
 GET /api/session-chat?sessionId=e0439335-2718-42e7-900c-e9b61825aa62 200 in 1117ms
 POST /dashboard/medical-agent/e0439335-2718-42e7-900c-e9b61825aa62 200 in 466ms
 GET /api/session-chat?sessionId=e0439335-2718-42e7-900c-e9b61825aa62 200 in 635ms
Using voice mapping for doctorId 1: en-US-ken
Calling Murf AI API with voice: en-US-ken, text length: 94 chars
Murf API request data: {"text":"Hello, I'm your AI medical assistant. Can you tell me Your Name, age and what is your problem?","voiceId":"en-US-ken","format":"mp3","speed":1,"pitch":0,"sampleRate":44100}
Murf API response status: 200
Murf AI API returned audio URL: https://murf.ai/user-upload/one-day-temp/9acb98fa-...
Successfully fetched audio data from Murf AI, size: 144240 bytes
 POST /api/tts 200 in 4002ms
 GET /favicon.ico?favicon.45db1c09.ico 200 in 346ms
Transcription API called
Uploading audio to AssemblyAI...
Error in transcription API: TypeError: fetch failed
    at async POST (app/api/transcribe/route.tsx:33:27)
  31 |
  32 |
> 33 |     const uploadResponse = await fetch('https://api.assemblyai.com/v2/upload', {
     |                           ^
  34 |       method: 'POST',
  35 |       headers: {
  36 |         'Authorization': apiKey {
  [cause]: [AggregateError: ] { code: 'ETIMEDOUT' }
}
 POST /api/transcribe 500 in 1452ms
Transcription API called
Uploading audio to AssemblyAI...
Error in transcription API: TypeError: fetch failed
    at async POST (app/api/transcribe/route.tsx:33:27)
  31 |
  32 |
> 33 |     const uploadResponse = await fetch('https://api.assemblyai.com/v2/upload', {
     |                           ^
  34 |       method: 'POST',
  35 |       headers: {
  36 |         'Authorization': apiKey {
  [cause]: [AggregateError: ] { code: 'ETIMEDOUT' }
}
 POST /api/transcribe 500 in 1427ms
 GET /dashboard/medical-agent/e0439335-2718-42e7-900c-e9b61825aa62 200 in 686ms
 GET /.well-known/appspecific/com.chrome.devtools.json 404 in 1215ms
 GET /favicon.ico?favicon.45db1c09.ico 200 in 765ms
 POST /dashboard/medical-agent/e0439335-2718-42e7-900c-e9b61825aa62 200 in 1087ms
 GET /favicon.ico 200 in 850ms
 GET /favicon.ico?favicon.45db1c09.ico 200 in 945ms
 POST /dashboard/medical-agent/e0439335-2718-42e7-900c-e9b61825aa62 200 in 148ms
 POST /api/users 200 in 2043ms
 POST /api/users 200 in 2257ms
 GET /api/session-chat?sessionId=e0439335-2718-42e7-900c-e9b61825aa62 200 in 746ms
 GET /api/session-chat?sessionId=e0439335-2718-42e7-900c-e9b61825aa62 200 in 776ms
Using voice mapping for doctorId 1: en-US-ken
Calling Murf AI API with voice: en-US-ken, text length: 94 chars
Murf API request data: {"text":"Hello, I'm your AI medical assistant. Can you tell me Your Name, age and what is your problem?","voiceId":"en-US-ken","format":"mp3","speed":1,"pitch":0,"sampleRate":44100}
Murf API response status: 200
Murf AI API returned audio URL: https://murf.ai/user-upload/one-day-temp/3389a110-...
Successfully fetched audio data from Murf AI, size: 144240 bytes
 POST /api/tts 200 in 4337ms
 GET /favicon.ico?favicon.45db1c09.ico 200 in 270ms
Transcription API called
Uploading audio to AssemblyAI...
Audio uploaded successfully, requesting transcription...
Transcription requested, polling for results...
Polling attempt 1: Status = completed
Transcription completed: Test.
 POST /api/transcribe 200 in 4334ms
 POST /api/chat 200 in 2205ms
Using voice mapping for doctorId 1: en-US-ken
Calling Murf AI API with voice: en-US-ken, text length: 157 chars
Murf API request data: {"text":"Hi there! It looks like you're just testing things out. If you have any health-related questions or symptoms you'd like to discuss, feel free to let me know!","voiceId":"en-US-ken","format":"mp3","speed":1,"pitch":0,"sampleRate":44100}
Murf API response status: 200
Murf AI API returned audio URL: https://murf.ai/user-upload/one-day-temp/082a6c79-...
Successfully fetched audio data from Murf AI, size: 220099 bytes
 POST /api/tts 200 in 5277ms
Transcription API called
Uploading audio to AssemblyAI...
Error in transcription API: TypeError: fetch failed
    at async POST (app/api/transcribe/route.tsx:33:27)
  31 |
  32 |
> 33 |     const uploadResponse = await fetch('https://api.assemblyai.com/v2/upload', {
     |                           ^
  34 |       method: 'POST',
  35 |       headers: {
  36 |         'Authorization': apiKey {
  [cause]: [AggregateError: ] { code: 'ETIMEDOUT' }
}
 POST /api/transcribe 500 in 1239ms
Transcription API called
Uploading audio to AssemblyAI...
Error in transcription API: TypeError: fetch failed
    at async POST (app/api/transcribe/route.tsx:33:27)
  31 |
  32 |
> 33 |     const uploadResponse = await fetch('https://api.assemblyai.com/v2/upload', {
     |                           ^
  34 |       method: 'POST',
  35 |       headers: {
  36 |         'Authorization': apiKey {
  [cause]: [AggregateError: ] { code: 'ETIMEDOUT' }
}
 POST /api/transcribe 500 in 1884ms
 ✓ Compiled in 1205ms
 ✓ Compiled in 721ms
 GET /api/session-chat?sessionId=e0439335-2718-42e7-900c-e9b61825aa62 200 in 1023ms
 ✓ Compiled in 1275ms
 ✓ Compiled in 692ms
